<%= form_with(model: product) do |form| %>
  <% if product.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(product.errors.count, "error") %> prohibited this product from being saved:</h2>

      <ul>
        <% product.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
    <%= form.label :name %>
    <%= content_tag :div, 'data-controller': 'scanner' do %>
      <%= content_tag :canvas, nil, width: 350, height: 240, 'data-scanner-target': 'canvas' %>
      <%= form.text_field :name, id: 'lolz', class: 'form-control', 'data-scanner-target': 'output' %>
      <%#= form.label :url %>
      <%#= form.text_field :url, class: 'form-control' %>
      
    <% end %>

    <%= form.label :quantity %><br>
    <%= form.text_field :qty %>
    <br><br>
  </div>
  <div class="field">
    <%= form.label :image %><br>
    <%= form.file_field :image, accept: "image/jpeg, image/jpg, image/gif, image/png" %>
  </div>


  <div class="actions">
    <%= form.submit "Add Product" %>
  </div>
<% end %>




